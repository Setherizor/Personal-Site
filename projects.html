<!DOCTYPE html>
<html lang="en">

<head>
    <title>My Projects</title>
    <!-- Import Mini.css -->
    <link rel="stylesheet" href="css/mini-default.min.css">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
</head>

<script>
    function loadJSON(callback) {

        var xobj = new XMLHttpRequest();
        xobj.overrideMimeType("application/json");
        xobj.open('GET', 'projects.json', true); // Replace 'my_data' with the path to your file
        xobj.onreadystatechange = function () {
            if (xobj.readyState == 4 && xobj.status == "200") {
                // Required use of an anonymous callback as .open will NOT return a value but simply returns undefined in asynchronous mode
                console.log(xobj.responseText);
                callback(xobj.responseText);
            }
        };
        xobj.send(null);
    }
    var getEm = function () {
        loadJSON(function (response) {
            // Parse JSON string into object
            var actual_JSON = JSON.parse(response);
            var projects = actual_JSON;
            console.log("projects got and bout sent")
            all(projects);
        });
    }

    getEm();
    //require('./projects.json');

</script>

<header class="sticky" style="padding: 15px;">
    <a href="#" rel="noopener" class="logo">My Projects</a>
    <a href="#" rel="noopener" class="button">Homepage</a>
    <a href="#" rel="noopener" class="button">Who Am I</a>
    <a href="#" rel="noopener" class="button">Github</a>
</header>

<body>
    <div class="row">
        <div class="col-sm-12 col-md-10 col-md-offset-1">
            <br/>
            <h3>Seth Parrish</h3>
            <hr/>
            <pre>Here is a friendly list of projects I have, and am working on</pre>

        </div>
    </div>

    <div style="display: none;" class="col-sm-12 col-md-10 col-md-offset-1">
        <div class="card fluid" id="TheList">
            <div class="section dark">
                <!--Could use: double-padded can can use dark, or darker-->
                <p>Content</p>
            </div>
        </div>
    </div>
</body>

<script>
    function all(projects) {
        var list = document.getElementById("TheList");
        for (var i = 0; i < projects.length; i++) {
            var curr = projects[i];
            var attach = '<div class="section dark">' +
                "<h3>" + curr.title + "</h3>" +
                "<p>" + curr.desc + "</p>" +
                "<p><a href='" + curr.domain +
                "' rel='noopener'>"+ curr.domain +"</a>" + "<br>" +
                "Last Modified: " + curr.lastDate +
                "</p></div>";
            if (i != projects.length - 1) attach += "<br>";
            list.innerHTML += attach;
        }
    }
</script>

<footer class="row">
    <div class="col-sm-12 col-md-10 col-md-offset-1" style="text-align: center; padding: 20px;">
        Copyright &copy; Setherizor 2017
    </div>
</footer>

</html>